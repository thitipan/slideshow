<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>NodeJS Slide</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <style>
			*{margin:0;padding:0;}
			body {
				background: #111;
			}
			.diy-slideshow{
				position: relative;
				overflow: hidden;
				display: table-cell;
				vertical-align:middle; 
				text-align:center;
			}
			.diy-slideshow img{
				position: absolute;
				opacity: 0;
				transition: 1s opacity;
			}

			.diy-slideshow img.show{
				opacity: 1;
				position: static;
				transition: 1s opacity;
			}
		</style>
    </head>
    <body>
        <div class="diy-slideshow">
			<img class="show" src="http://themarklee.com/wp-content/uploads/2013/12/snowying.jpg" />
			<img src="http://themarklee.com/wp-content/uploads/2013/12/starlight.jpg" />	
		</div>   
		<script type="text/javascript" language="JavaScript">
			var socket = io();
		
			socket.on('navigate', function(page) {
				$item = $('.diy-slideshow img');
				$item.removeClass('show');
				$item.eq(page % $item.length).addClass('show');
			});
			
			function rescale() { 
				$('.diy-slideshow').width($(window).width());
				$('.diy-slideshow').height($(window).height());
				$('.diy-slideshow img').each(function() {
					var ratio;
					if($(window).height()/$(this).height() >= $(window).width()/$(this).width())
						ratio = $(window).width() / $(this).width();	
					else
						ratio = $(window).height() / $(this).height();	
					$(this).height($(this).height() * ratio);
					$(this).width($(this).width() * ratio);	
				});
			}
			$('.diy-slideshow img').load(function() {
				$(window).bind('resize', rescale);
				rescale();
			});
		</script>
    </body>
</html>
